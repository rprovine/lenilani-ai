<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LeniLani AI - LeniLani Consulting</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #0ea5e9 0%, #06b6d4 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            width: 100%;
            max-width: 600px;
            height: 700px;
            display: flex;
            flex-direction: column;
        }
        
        .header {
            background: linear-gradient(135deg, #0ea5e9 0%, #06b6d4 100%);
            color: white;
            padding: 20px;
            border-radius: 20px 20px 0 0;
            text-align: center;
        }
        
        .header h1 {
            font-size: 24px;
            margin-bottom: 5px;
        }
        
        .header p {
            font-size: 14px;
            opacity: 0.9;
        }
        
        .chat-container {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .message {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 18px;
            word-wrap: break-word;
            animation: fadeIn 0.3s ease-in;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .user-message {
            background: linear-gradient(135deg, #0ea5e9 0%, #06b6d4 100%);
            color: white;
            align-self: flex-end;
        }
        
        .bot-message {
            background: #f1f3f5;
            color: #333;
            align-self: flex-start;
        }
        
        .input-container {
            padding: 20px;
            border-top: 1px solid #e9ecef;
            display: flex;
            gap: 10px;
        }
        
        #messageInput {
            flex: 1;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 25px;
            font-size: 16px;
            outline: none;
            transition: border-color 0.3s;
        }
        
        #messageInput:focus {
            border-color: #0ea5e9;
        }
        
        button {
            padding: 12px 24px;
            background: linear-gradient(135deg, #0ea5e9 0%, #06b6d4 100%);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        button:hover {
            transform: scale(1.05);
        }
        
        button:active {
            transform: scale(0.95);
        }
        
        .typing-indicator {
            display: none;
            align-self: flex-start;
            padding: 12px 16px;
            background: #f1f3f5;
            border-radius: 18px;
            margin-bottom: 10px;
        }
        
        .typing-indicator span {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #999;
            margin: 0 2px;
            animation: typing 1.4s infinite;
        }
        
        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-10px);
            }
        }
        
        .clear-btn {
            background: #e74c3c;
            padding: 8px 16px;
            font-size: 14px;
        }
        
        .actions {
            display: flex;
            justify-content: center;
            padding: 10px;
            border-top: 1px solid #e9ecef;
        }
        
        .quickstart-container {
            padding: 15px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
            overflow-x: auto;
        }
        
        .quickstart-title {
            font-size: 12px;
            color: #6c757d;
            margin-bottom: 10px;
            text-align: center;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .quickstart-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .quickstart-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 12px 16px;
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 120px;
            text-decoration: none;
        }
        
        .quickstart-btn:hover {
            border-color: #0ea5e9;
            background: #f0f9ff;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(14, 165, 233, 0.15);
        }
        
        .quickstart-icon {
            font-size: 28px;
            margin-bottom: 8px;
        }
        
        .quickstart-label {
            font-size: 12px;
            color: #333;
            text-align: center;
            font-weight: 500;
        }
        
        .quickstart-sublabel {
            font-size: 10px;
            color: #6c757d;
            text-align: center;
            margin-top: 2px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>LeniLani AI</h1>
            <p>LeniLani Consulting - Premier AI & Technology Solutions</p>
        </div>
        
        <div class="quickstart-container" id="quickstartContainer">
            <div class="quickstart-title">Quick Start - Choose a Topic</div>
            <div class="quickstart-buttons">
                <div class="quickstart-btn" onclick="sendQuickstart('I need help automating repetitive tasks in my business')">
                    <div class="quickstart-icon">ðŸ¤–</div>
                    <div class="quickstart-label">AI Automation</div>
                    <div class="quickstart-sublabel">Save time & costs</div>
                </div>
                <div class="quickstart-btn" onclick="sendQuickstart('I want to build a custom chatbot for customer service')">
                    <div class="quickstart-icon">ðŸ’¬</div>
                    <div class="quickstart-label">Chatbot Development</div>
                    <div class="quickstart-sublabel">24/7 support</div>
                </div>
                <div class="quickstart-btn" onclick="sendQuickstart('We need help analyzing our business data for insights')">
                    <div class="quickstart-icon">ðŸ“Š</div>
                    <div class="quickstart-label">Data Analytics</div>
                    <div class="quickstart-sublabel">Data-driven decisions</div>
                </div>
                <div class="quickstart-btn" onclick="sendQuickstart('I need a fractional CTO to guide our technology strategy')">
                    <div class="quickstart-icon">ðŸŽ¯</div>
                    <div class="quickstart-label">Fractional CTO</div>
                    <div class="quickstart-sublabel">Tech leadership</div>
                </div>
            </div>
        </div>
        
        <div class="chat-container" id="chatContainer">
            <div class="bot-message message">
                Aloha! I'm LeniLani AI, your advanced AI consultant from LeniLani Consulting. I'm here to help you explore how AI and technology can transform your business. What challenges are you looking to solve today?
            </div>
        </div>
        
        <div class="typing-indicator" id="typingIndicator">
            <span></span>
            <span></span>
            <span></span>
        </div>
        
        <div class="input-container">
            <input 
                type="text" 
                id="messageInput" 
                placeholder="Type your message here..."
                autofocus
            />
            <button onclick="sendMessage()">Send</button>
        </div>
        
        <div class="actions">
            <button class="clear-btn" onclick="clearChat()">Clear Chat</button>
        </div>
    </div>

    <script>
        const chatContainer = document.getElementById('chatContainer');
        const messageInput = document.getElementById('messageInput');
        const typingIndicator = document.getElementById('typingIndicator');
        const quickstartContainer = document.getElementById('quickstartContainer');

        messageInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        async function sendQuickstart(prompt) {
            // Hide quickstart buttons after first use
            quickstartContainer.style.display = 'none';
            
            // Add the quickstart message to chat
            addMessage(prompt, 'user');
            
            // Show typing indicator
            typingIndicator.style.display = 'block';
            chatContainer.scrollTop = chatContainer.scrollHeight;
            
            try {
                const response = await fetch('/chat', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ message: prompt }),
                });

                const data = await response.json();
                
                // Hide typing indicator
                typingIndicator.style.display = 'none';

                if (response.ok) {
                    addMessage(data.response, 'bot');
                } else {
                    addMessage('Sorry, I encountered an error. Please try again.', 'bot');
                    console.error('Error:', data);
                }
            } catch (error) {
                // Hide typing indicator
                typingIndicator.style.display = 'none';
                
                addMessage('Sorry, I could not connect to the server. Please make sure the server is running.', 'bot');
                console.error('Error:', error);
            }
        }

        async function sendMessage() {
            const message = messageInput.value.trim();
            if (!message) return;
            
            // Hide quickstart buttons after first message
            if (quickstartContainer.style.display !== 'none') {
                quickstartContainer.style.display = 'none';
            }

            // Add user message to chat
            addMessage(message, 'user');
            messageInput.value = '';

            // Show typing indicator
            typingIndicator.style.display = 'block';
            chatContainer.scrollTop = chatContainer.scrollHeight;

            try {
                const response = await fetch('/chat', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ message }),
                });

                const data = await response.json();
                
                // Hide typing indicator
                typingIndicator.style.display = 'none';

                if (response.ok) {
                    addMessage(data.response, 'bot');
                } else {
                    addMessage('Sorry, I encountered an error. Please try again.', 'bot');
                    console.error('Error:', data);
                }
            } catch (error) {
                // Hide typing indicator
                typingIndicator.style.display = 'none';
                
                addMessage('Sorry, I could not connect to the server. Please make sure the server is running.', 'bot');
                console.error('Error:', error);
            }
        }

        function addMessage(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message', `${sender}-message`);
            messageDiv.textContent = text;
            chatContainer.appendChild(messageDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        async function clearChat() {
            try {
                await fetch('/reset', {
                    method: 'POST',
                });
                
                chatContainer.innerHTML = `
                    <div class="bot-message message">
                        Aloha! I'm LeniLani AI, your advanced AI consultant from LeniLani Consulting. I'm here to help you explore how AI and technology can transform your business. What challenges are you looking to solve today?
                    </div>
                `;
                
                // Show quickstart buttons again
                quickstartContainer.style.display = 'block';
            } catch (error) {
                console.error('Error clearing chat:', error);
            }
        }
    </script>
</body>
</html>